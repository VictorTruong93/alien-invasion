(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{27:function(t,e,n){t.exports=n(38)},32:function(t,e,n){},38:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),o=n(3),r=n.n(o),l=(n(32),n(8)),c=n(7),s=n(19),u=n(20),m=n(24),f=n(21),y=n(4),d=n(25),x=function(t){var e=t.initialAxis,n=t.initialControlPoint,i=t.endingControlPoint,a=t.endingAxis;return"\n        M".concat(e.x," ").concat(e.y,"\n        c ").concat(n.x," ").concat(n.y,"\n        ").concat(i.x," ").concat(i.y,"\n        ").concat(a.x," ").concat(a.y,"\n    ")},g=function(t){return 180*t/Math.PI},h=function(t,e,n,i){if(n>=0&&i>=0)return 90;if(n<0&&i>=0)return-90;var a=(n-t)/(i-e);return-1*g(Math.atan(a))},p=function(t){return t*Math.PI/180},v=function(t,e,n){var i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:300,a=-1*n+90;return{x:t+g(Math.cos(p(a)))/i,y:e-g(Math.sin(p(a)))/i}},E=[-300,-150,150,300],O=function(){return a.a.createElement("rect",{style:{fill:"#30abef"},x:-2500,y:-1100,width:5e3,height:1200})},w=function(){return a.a.createElement("g",{id:"ground"},a.a.createElement("rect",{id:"ground-2","data-name":"ground",style:{fill:"#59a941"},x:-2500,y:0,width:5e3,height:100}),a.a.createElement("line",{x1:-2500,y1:0,x2:2500,y2:0,style:{stroke:"#458232",strokeWidth:"3px"}}))},b=function(){var t={fill:"#a16012",stroke:"#75450e",strokeWidth:"2px"},e={initialAxis:{x:-40,y:60},initialControlPoint:{x:20,y:-60},endingControlPoint:{x:60,y:-60},endingAxis:{x:80,y:0}};return a.a.createElement("g",null,a.a.createElement("path",{style:t,d:x(e)}),a.a.createElement("line",{x1:-40,y1:60,x2:40,y2:60,style:t}))},S=function(t){var e={fill:"#999",stroke:"#666",strokeWidth:"2px"},n="rotate(".concat(t.rotation,", 0, 0)"),i={initialAxis:{x:-20,y:-70},initialControlPoint:{x:-40,y:170},endingControlPoint:{x:80,y:170},endingAxis:{x:40,y:0}};return a.a.createElement("g",{transform:n},a.a.createElement("path",{style:e,d:x(i)}),a.a.createElement("line",{x1:-20,y1:-70,x2:20,y2:-70,style:e}))},k=function(t){return a.a.createElement("ellipse",{style:{fill:"#777",stroke:"#444",strokeWidth:"2px"},cx:t.position.x,cy:t.position.y,rx:"16",ry:"16"})},j=function(t){return a.a.createElement("g",{filter:"url(#shadow)"},a.a.createElement("text",{style:{fontFamily:'"Joti One", cursive',fontSize:80,fill:"#d6d33e"},x:"300",y:"80"},t.score))},P=n(12),A=n(13),C=function(t){return a.a.createElement("ellipse",{cx:t.position.x,cy:t.position.y,rx:"40",ry:"10",style:{fill:"#979797",stroke:"#5c5c5c"}})},M=function(t){var e={initialAxis:{x:t.position.x-20,y:t.position.y},initialControlPoint:{x:10,y:-25},endingControlPoint:{x:30,y:-25},endingAxis:{x:40,y:0}};return a.a.createElement("path",{style:{fill:"#b6b6b6",stroke:"#7d7d7d"},d:x(e)})};function T(){var t=Object(P.a)(["\n    animation: "," 6s linear;\n"]);return T=function(){return t},t}function D(){var t=Object(P.a)(["\n    0% {\n        transform: translateY(0);\n    }\n    100% {\n        transform: translateY(","px);\n    }\n"]);return D=function(){return t},t}var B=Object(A.b)(D(),1200),_=A.a.g(T(),B),I=function(t){return a.a.createElement(_,null,a.a.createElement(C,{position:t.position}),a.a.createElement(M,{position:t.position}))},W=function(t){var e={x:-400,y:-280,width:800,height:200,rx:10,ry:10,style:{fill:"transparent",cursor:"pointer"},onClick:t.onClick},n={textAnchor:"middle",x:0,y:-150,style:{fontFamily:'"Joti One", cursive',fontSize:60,fill:"#e3e3e3",cursor:"pointer"},onClick:t.onClick};return a.a.createElement("g",{filter:"url(#shadow)"},a.a.createElement("rect",e),a.a.createElement("text",n,"Tap To Start!"))},G=n(1),H=function(){var t={fontFamily:'"Joti One", cursive',fontSize:100,fill:"#cbca62"},e={initialAxis:{x:-190,y:-950},initialControlPoint:{x:95,y:-50},endingControlPoint:{x:285,y:-50},endingAxis:{x:380,y:0}},n=Object(G.a)({},e,{initialAxis:{x:-250,y:-780},initialControlPoint:{x:125,y:-90},endingControlPoint:{x:375,y:-90},endingAxis:{x:500,y:0}});return a.a.createElement("g",{filter:"url(#shadow)"},a.a.createElement("defs",null,a.a.createElement("path",{id:"AliensPath",d:x(e)}),a.a.createElement("path",{id:"GoHomePath",d:x(n)})),a.a.createElement("text",t,a.a.createElement("textPath",{xlinkHref:"#AliensPath"},"Aliens")),a.a.createElement("text",t,a.a.createElement("textPath",{xlinkHref:"#GoHomePath"},"Go Home!")))},J=function(t){var e={fill:"#da0d15",stroke:"#a51708",strokeWidth:"2px"},n={initialAxis:{x:t.position.x,y:t.position.y},initialControlPoint:{x:-20,y:-20},endingControlPoint:{x:-40,y:10},endingAxis:{x:0,y:40}},i={initialAxis:{x:t.position.x,y:t.position.y},initialControlPoint:{x:20,y:-20},endingControlPoint:{x:40,y:10},endingAxis:{x:0,y:40}};return a.a.createElement("g",{filter:"url(#shadow)"},a.a.createElement("path",{style:e,d:x(n)}),a.a.createElement("path",{style:e,d:x(i)}))},z=function(t){for(var e=[window.innerWidth/-2,-1100,window.innerWidth,1200],n=[],i=0;i<t.gameState.lives;i++){var o={x:-180-70*i,y:35};n.push(a.a.createElement(J,{key:i,position:o}))}return a.a.createElement("svg",{id:"alien-invasion-canvas",preserveAspectRatio:"xMaxYMax none",onMouseMove:t.trackMouse,viewBox:e,onClick:t.shoot},a.a.createElement("defs",null,a.a.createElement("filter",{id:"shadow"},a.a.createElement("feDropShadow",{dx:"1",dy:"1",stdDeviation:"2"}))),a.a.createElement(O,null),a.a.createElement(w,null),a.a.createElement(b,null),t.gameState.cannonBalls.map(function(t){return a.a.createElement(k,{key:t.id,position:t.position})}),a.a.createElement(S,{rotation:t.angle}),a.a.createElement(j,{score:t.gameState.kills}),!t.gameState.started&&a.a.createElement("g",null,a.a.createElement(W,{onClick:function(){return t.startGame()}}),a.a.createElement(H,null)),t.gameState.flyingObjects.map(function(t){return a.a.createElement(I,{key:t.id,position:t.position})}),n)},X=function(t){function e(t){var n;return Object(s.a)(this,e),(n=Object(m.a)(this,Object(f.a)(e).call(this,t))).shoot=n.shoot.bind(Object(y.a)(n)),n}return Object(d.a)(e,t),Object(u.a)(e,[{key:"componentDidMount",value:function(){var t=this;setInterval(function(){t.props.moveObjects(t.canvasMousePosition)},10),window.onresize=function(){var t=document.getElementById("alien-invasion-canvas");t.style.width="".concat(window.innerWidth,"px"),t.style.height="".concat(window.innerHeight,"px")},window.onresize()}},{key:"trackMouse",value:function(t){this.canvasMousePosition=function(t){var e=document.getElementById("alien-invasion-canvas"),n=e.createSVGPoint();n.x=t.clientX,n.y=t.clientY;var i=n.matrixTransform(e.getScreenCTM().inverse());return{x:i.x,y:i.y}}(t)}},{key:"render",value:function(){var t=this;return a.a.createElement(z,{angle:this.props.angle,gameState:this.props.gameState,startGame:this.props.startGame,trackMouse:function(e){return t.trackMouse(e)},shoot:this.shoot})}},{key:"shoot",value:function(){this.props.shoot(this.canvasMousePosition)}}]),e}(a.a.Component),N="MOVE_OBJECTS",R="START_GAME",V="SHOOT",Y=Object(l.b)(function(t){return{angle:t.angle,gameState:t.gameState}},function(t){return{moveObjects:function(e){t(function(t){return{type:N,mousePosition:t}}(e))},startGame:function(){t({type:R})},shoot:function(e){t(function(t){return{type:V,mousePosition:t}}(e))}}})(X),F=n(9),L=function(t){if(!t.gameState.started)return t;var e=(new Date).getTime(),n=t.gameState,i=n.lastObjectCreatedAt,a=n.flyingObjects;if(!(e-i.getTime()>1e3&&a.length<4))return t;var o=(new Date).getTime(),r=Math.floor(4*Math.random()),l={position:{x:E[r],y:-1100},createdAt:(new Date).getTime(),id:o};return Object(G.a)({},t,{gameState:Object(G.a)({},t.gameState,{flyingObjects:[].concat(Object(F.a)(t.gameState.flyingObjects),[l]),lastObjectCreatedAt:new Date})})},U=function(t){return t.filter(function(t){return t.position.y>-1200&&t.position.x>-500&&t.position.x<500}).map(function(t){var e=t.position,n=e.x,i=e.y,a=t.angle;return Object(G.a)({},t,{position:v(n,i,a,5)})})},$=function(t,e){var n=[];return e.forEach(function(e){var i=(new Date).getTime()-e.createdAt,a=e.position.x,o=e.position.y+i/6e3*1200,r={x1:a-40,y1:o-10,x2:a+40,y2:o+10};t.forEach(function(t){var i={x1:t.position.x-8,y1:t.position.y-8,x2:t.position.x+8,y2:t.position.y+8};(function(t,e){return t.x1<e.x2&&t.x2>e.x1&&t.y1<e.y2&&t.y2>e.y1})(r,i)&&n.push({cannonBallId:t.id,flyingDiscId:e.id})})}),n};var q=function(t,e){if(!t.gameState.started)return t;var n=U(t.gameState.cannonBalls),i=e.mousePosition||{x:0,y:0},a=L(t),o=(new Date).getTime(),r=a.gameState.flyingObjects.filter(function(t){return o-t.createdAt<6e3}),l=t.gameState.flyingObjects.length>r.length,c=t.gameState.lives;l&&c--;var s=c>0;s||(r=[],n=[],c=4);var u=i.x,m=i.y,f=h(0,0,u,m),y=$(n,r),d=y.map(function(t){return t.cannonBallId}),x=y.map(function(t){return t.flyingDiscId});n=n.filter(function(t){return d.indexOf(t.id)}),r=r.filter(function(t){return x.indexOf(t.id)});var g=t.gameState.kills+x.length;return Object(G.a)({},a,{gameState:Object(G.a)({},a.gameState,{flyingObjects:r,cannonBalls:n,lives:c,started:s,kills:g}),angle:f})},K=function(t,e){return Object(G.a)({},t,{gameState:Object(G.a)({},e,{started:!0})})};var Q=function(t,e){if(!t.gameState.started)return t;var n=t.gameState.cannonBalls;if(5===n.length)return t;var i=e.mousePosition,a=i.x,o=i.y,r={position:{x:0,y:0},angle:h(0,0,a,o),id:(new Date).getTime()};return Object(G.a)({},t,{gameState:Object(G.a)({},t.gameState,{cannonBalls:[].concat(Object(F.a)(n),[r])})})},Z={started:!1,kills:0,lives:4,flyingObjects:[],lastObjectCreatedAt:new Date,cannonBalls:[]},tt={angle:45,gameState:Z};var et=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:tt,e=arguments.length>1?arguments[1]:void 0;switch(e.type){case N:return q(t,e);case R:return K(t,Z);case V:return Q(t,e);default:return t}};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var nt=Object(c.b)(et,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());r.a.render(a.a.createElement(l.a,{store:nt},a.a.createElement(Y,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(t){t.unregister()})}},[[27,1,2]]]);
//# sourceMappingURL=main.07a1c28c.chunk.js.map